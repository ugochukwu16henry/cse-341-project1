### 0. Define Environment Variables (REQUIRED)
@base_url = http://localhost:8080
@api_key = T+Y6WRZMY3E8MM77/NVex3EdE+E8UhGuy6txSb7qArokm0TYlfynSX2ezn+bDSfUBpBxD5pS6SAZsB0NS4XOUQ==
@contactId =

### 1. POST - Create a New Contact (All fields required)
# Expects: 201 Created | Returns: { insertedId: "..." }
#
POST {{base_url}}/contacts
Content-Type: application/json

{
  "firstName": "Elon",
  "lastName": "Musk",
  "email": "elon.musk@x.com",
  "favoriteColor": "Black",
  "birthday": "1971-06-28"
}

### Store the ID from the response above for use in the next requests
# @name createContact

### Set the @contactId variable to the ID returned from the POST request
@contactId = {{createContact.response.body.insertedId}}

---

### 2. GET - Retrieve All Contacts (API Key required)
# Expects: 200 OK | Returns: [ { Contact }, ... ]
GET {{base_url}}/contacts
apiKey: {{api_key}}

---

### 3. GET - Retrieve Contact by ID (API Key required)
# Use the ID stored from the POST request ({{contactId}})
# Expects: 200 OK | Returns: { Contact }
GET {{base_url}}/contacts/{{contactId}}
apiKey: {{api_key}}

---

### 4. PUT - Update a Contact by ID (API Key required)
# Use the ID stored from the POST request ({{contactId}})
# Expects: 204 No Content
PUT {{base_url}}/contacts/{{contactId}}
Content-Type: application/json
apiKey: {{api_key}}

{
  "firstName": "Tesla",
  "favoriteColor": "Red"
}

---

### 5. GET - Verify Update (API Key required)
# Use the ID stored from the POST request ({{contactId}})
# Expects: 200 OK | Verify firstName is "Tesla" and favoriteColor is "Red"
GET {{base_url}}/contacts/{{contactId}}
apiKey: {{api_key}}

---

### 6. DELETE - Delete a Contact by ID (API Key required)
# Use the ID stored from the POST request ({{contactId}})
# Expects: 204 No Content
DELETE {{base_url}}/contacts/{{contactId}}
apiKey: {{api_key}}

---

### 7. GET - Verify Deletion (API Key required)
# Expects: 404 Not Found
GET {{base_url}}/contacts/{{contactId}}
apiKey: {{api_key}}
